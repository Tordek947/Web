<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:appdba="http://www.datical.net/xml/ns/appdba" xmlns:datical="http://www.datical.net/xml/ns/datical"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext
	 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog
	 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">
	<!-- id for these changeSets is generated as Atom-like timestamp format -->
	<!-- for useful generation see https://timestampgenerator.com/#copyAtom -->
	<changeSet author="Hryhorii_Popov" id="2019-10-27T07:14:48+00:00">
		<addColumn tableName="projects">
			<column name="image_created" type="DATETIME">
				<constraints nullable="false" />
			</column>
		</addColumn>
	</changeSet>
	<changeSet author="Hryhorii_Popov" id="2019-10-27T07:54:18+00:00">
		<addColumn tableName="avatars">
			<column name="image_created" type="DATETIME">
				<constraints nullable="false" />
			</column>
		</addColumn>
	</changeSet>
	<changeSet author="Hryhorii_Popov" id="2019-10-27T07:14:49+00:00">
		<createTable tableName="temp_files">
			<column autoIncrement="true" name="id" type="INT(10)">
				<constraints nullable="false" primaryKey="true" />
			</column>
			<column name="name" type="BINARY(16)">
				<constraints nullable="false" />
			</column>
			<column name="extension" type="VARCHAR(8)">
				<constraints nullable="false" />
			</column>
			<column name="created_datetime" type="DATETIME">
				<constraints nullable="false" />
			</column>
			<column name="user_details_username" type="VARCHAR(32)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet author="Hryhorii_Popov" id="2019-10-27T07:15:17+00:00">
		<createIndex indexName="fk_temp_files_user_details1_idx" tableName="temp_files">
			<column name="user_details_username" />
		</createIndex>
	</changeSet>
	<changeSet author="Hryhorii_Popov" id="2019-10-27T07:15:27+00:00">
		<addForeignKeyConstraint baseColumnNames="user_details_username" baseTableName="temp_files"
			constraintName="fk_temp_files_user_details1" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT"
			onUpdate="RESTRICT" referencedColumnNames="username" referencedTableName="user_details" validate="true" />
	</changeSet>
</databaseChangeLog>